# アクティブコンテキスト

## 現在の作業フォーカス

現在のプロジェクトフェーズは、**基本実装段階**です。基本的なアプリケーション構造が実装され、主要な機能のモック実装が完了しています。

### 主な焦点領域

1. **Automergeの本格的な実装**: 現在はモック実装ですが、Automergeを使用した本格的なCRDTベースのデータストレージを実装する必要があります。
2. **iroh-gossipの本格的な実装**: 現在はモック実装ですが、iroh-gossipを使用した本格的なP2P通信を実装する必要があります。
3. **UIの改善**: 基本的なUIは実装されていますが、ユーザーエクスペリエンスの向上のために改善が必要です。
4. **テストの実装**: ユニットテスト、統合テスト、E2Eテストを実装する必要があります。
5. **パフォーマンスの最適化**: データ同期やP2P通信のパフォーマンスを最適化する必要があります。

## 最近の変更

1. **基本的なアプリケーション構造の実装**:
   - フロントエンド: React、TypeScript、Zustandを使用したUI実装
   - バックエンド: Tauriコマンドを使用したRust実装
   - データモデル: Zodスキーマを使用したデータモデル定義

2. **主要機能の実装**:
   - ユーザー認証: ユーザー作成、サインイン、ユーザーリスト取得
   - 投稿管理: 投稿作成、取得、検索
   - プロフィール管理: プロフィール取得、更新
   - フォロー機能: フォロー、アンフォロー

3. **ストレージとネットワークのモック実装**:
   - Automergeの代わりにJSONファイルを使用したシンプルなストレージ
   - iroh-gossipの代わりにモックネットワークを使用したシンプルな通信

## 次のステップ

### 短期的なタスク（1-2週間）

1. **開発環境のセットアップ**:
   - Rustツールチェーンのインストール
   - Node.jsとnpmのセットアップ
   - Tauriの依存関係のインストール
   - プロジェクトの初期化

2. **基本的なアプリケーション構造の実装**:
   - ディレクトリ構造の作成
   - 基本的なReactコンポーネントの実装
   - Tauriの設定

3. **データモデルの実装**:
   - Zodスキーマの実装
   - Automergeストレージレイヤーの基本実装

4. **テスト環境のセットアップ**:
   - Vitestの設定
   - 基本的なテストの実装

### 中期的なタスク（3-5週間）

1. **ユーザー認証とプロフィール管理の実装**
2. **投稿作成と表示機能の実装**
3. **タイムラインの実装**
4. **P2P通信の実装**
5. **フォロー/フォロワー機能の実装**

## アクティブな決定事項

1. **技術スタックの選択**:
   - フロントエンド: React、TypeScript、Vite、Zustand、TanStack Query
   - バックエンド: Tauri、Rust、Automerge、iroh-gossip
   - テスト: Vitest、Playwright

2. **アーキテクチャの決定**:
   - クライアントサイドアプリケーション
   - 分散型P2Pネットワーク
   - ローカルファーストデータ管理
   - モジュール型サービス統合

3. **データモデルの設計**:
   - ユーザープロフィール
   - 投稿
   - フォロー関係
   - アプリケーション設定

4. **実装アプローチ**:
   - 段階的な実装（MVP→拡張機能→エコシステム拡大→スケーリング）
   - テスト駆動開発
   - モジュール化されたコードベース

## 現在の考慮事項

1. **パフォーマンス最適化**:
   - Automergeのデータ構造の最適化
   - P2P通信の効率化
   - リソース使用量の最適化

2. **セキュリティ考慮事項**:
   - ユーザーデータの保護
   - 通信の暗号化
   - 権限管理

3. **ユーザーエクスペリエンス**:
   - オンボーディングプロセスの設計
   - UIの使いやすさ
   - オフライン対応

4. **スケーラビリティ**:
   - 大規模データセットの処理
   - 多数のユーザーとの同期
   - リソース使用量の管理

5. **テスト戦略**:
   - ユニットテスト
   - 統合テスト
   - E2Eテスト
   - パフォーマンステスト

## オープンな質問

1. **Automergeのパフォーマンス**: 大規模データセットでのAutomergeのパフォーマンスはどうか？
2. **iroh-gossipのスケーラビリティ**: 多数のユーザーがいる場合のiroh-gossipのスケーラビリティはどうか？
3. **クロスプラットフォーム互換性**: 異なるプラットフォーム間での一貫したユーザーエクスペリエンスをどのように確保するか？
4. **オフライン対応**: オフライン状態でのユーザーエクスペリエンスをどのように最適化するか？
5. **モデレーション**: 分散型システムでのコンテンツモデレーションをどのように実装するか？